# vim: set ts=2 sw=2 sts=2 expandtab:

# Site information
site_name:        Sherlock
site_description: Sherlock Cluster documentation
site_author:      Kilian Cavalotti
site_url:         https://www.sherlock.stanford.edu/

# Repository
repo_name: SRCC // Open Source
repo_url:  https://github.com/stanford-rc
edit_uri:  www.sherlock.stanford.edu/edit/main/src/

# Copyright
copyright: >-
  Copyright &copy; 2014 - 2021 &mdash;
  <a href='mailto:srcc-support@stanford.edu'>Stanford Research Computing Center</a><br/>

# Configuration
docs_dir: src
site_dir: site

theme:
  name: material
  custom_dir: overrides

  # 404 page
  static_templates:
    - 404.html

  # Don't include MkDocs' JavaScript
  include_search_page: false
  search_index_only: true

  language: en

  features:
    #- navigation.instant
    - navigation.tabs
    - navigation.tabs.sticky
    - navigation.sections
    - navigation.indexes
    - navigation.top
    - search.suggest
    - search.highlight
    - search.share

  font:
    text: Roboto
    code: Roboto Mono

  palette:
    - scheme: sherlock

  favicon: /assets/img/logo_small.png
  logo:    /assets/img/logo_small.png
  logo_hero: /assets/img/logo.png
  icon:
    repo: fontawesome/brands/github

# Customization
extra_css:
  - /assets/css/sh.css

extra:
  generator: false
  made_in: >-
    <a href='https://www.google.com/maps/place/Stanford,+CA'>Stanford, California</a>
  support_email: srcc-support@stanford.edu
  purge_days: 90
  manifest: manifest.webmanifest
  social:
    - icon: fontawesome/solid/globe-americas
      link: https://srcc.stanford.edu
      name: SRCC website
    - icon: fontawesome/brands/github
      link: https://github.com/stanford-rc
      name: SRCC on GitHub
    - icon: fontawesome/brands/twitter
      link: https://twitter.com/StanfordCompute
      name: SRCC on Twitter
    - icon: fontawesome/brands/slack
      link: https://srcc.slack.com/
      name: SRCC Users Slack workspace
  analytics:
    provider: google
    property: !!python/object/apply:os.getenv ["GOOGLE_ANALYTICS_KEY"]


# Plugins
plugins:
  - search:
      separator: '[\s\-\.]+'
  - minify:
      minify_html: true
      minify_js: true
  - macros:
      include_yaml:
        - includes/data/software.yml
        - includes/data/facts.yml
  - redirects:
      redirect_maps:
        # external URLs
        ondemand.md:                     https://login.sherlock.stanford.edu/
        shell.md:                        https://login.sherlock.stanford.edu/pun/sys/shell/ssh
        catalog.md:                      https://docs.google.com/spreadsheets/d/11CqpWe0XLoEbJEDAac6ag5nbrctkkZSJgRtG4hKh34w
        order.md:                        https://docs.google.com/forms/d/e/1FAIpQLSd95TJaPbStWEZAUYHXNQedp9lQJMsTjyISjKmRMSpmL0rVqg/viewform
        # nav refactor, legacy URLs
        docs/overview/index.md:          docs/index.md
        docs/overview/introduction.md:   docs/index.md
        docs/overview/concepts.md:       docs/concepts.md
        docs/overview/orders.md:         docs/orders.md
        docs/overview/orders/process.md: docs/orders.md
        docs/overview/tech/index.md:     docs/tech/index.md
        docs/overview/tech/facts.md:     docs/tech/facts.md
        docs/overview/tech/status.md:    docs/tech/status.md
        docs/overview/tech/glossary.md:  docs/glossary.md
        docs/overview/about.md:          docs/credits.md
        docs/getting-started/prerequisites.md: docs/getting-started/index.md
        docs/storage/overview.md:        docs/storage/index.md
        docs/software/overview.md:       docs/software/index.md
        docs/software/containers.md:     docs/software/using/singularity.md


# Extensions
markdown_extensions:
  - abbr
  - admonition
  - attr_list
  - def_list
  - footnotes
  - meta
  - md_in_html
  - toc:
      permalink: "#"
      toc_depth: 4

  - pymdownx.arithmatex:
      generic: true
  - pymdownx.betterem:
      smart_enable: all
  - pymdownx.critic
  - pymdownx.details
  - pymdownx.emoji:
      emoji_index: !!python/name:materialx.emoji.twemoji
      emoji_generator: !!python/name:materialx.emoji.to_svg
      options:
        custom_icons:
          - overrides/.icons
  - pymdownx.highlight
  - pymdownx.inlinehilite
  - pymdownx.keys
  - pymdownx.magiclink:
      repo_url_shortener: true
      provider: github
      user: stanford-rc
      repo: sherlock
  - pymdownx.caret
  - pymdownx.tilde
  - pymdownx.mark
  - pymdownx.smartsymbols
  - pymdownx.snippets:
      check_paths: true
  - pymdownx.superfences
  - pymdownx.tabbed:
      alternate_style: true
  - pymdownx.tasklist:
      custom_checkbox: true
  - pymdownx.escapeall:
      hardbreak: true
      nbsp:      true


#
# Page tree
#

nav:
  - Home:
      - docs/index.md
      - Concepts:            docs/concepts.md
      - Glossary:            docs/glossary.md
      - Ordering nodes:      docs/orders.md
      - Tech specs:
          - docs/tech/index.md
          - Facts:           docs/tech/facts.md
          - Status:          docs/tech/status.md
      - Credits:             docs/credits.md
  - Getting Started:
      - docs/getting-started/index.md
      - Connecting:          docs/getting-started/connecting.md
      - Submitting jobs:     docs/getting-started/submitting.md
  - User guide:
      - Running jobs:        docs/user-guide/running-jobs.md
      - OnDemand:            docs/user-guide/ondemand.md
      - Specialized resources:
          - GPU nodes:       docs/user-guide/gpu.md
      - Troubleshooting:     docs/user-guide/troubleshoot.md
  - Storage:
      - docs/storage/index.md
      - Filesystems:         docs/storage/filesystems.md
      - Data sharing:        docs/storage/data-sharing.md
      - Data protection:     docs/storage/data-protection.md
      - Data transfer:       docs/storage/data-transfer.md
  - Software:
      - docs/software/index.md
      - Modules:             docs/software/modules.md
      - List:                docs/software/list.md
      - Installation:        docs/software/install.md
      - Containers:
        - Singularity:       docs/software/using/singularity.md
      - Usage:
          - R:               docs/software/using/R.md
          - Julia:           docs/software/using/julia.md
          - Python:          docs/software/using/python.md
          - Perl:            docs/software/using/perl.md
          - Matlab:          docs/software/using/matlab.md
          - Rclone:          docs/software/using/rclone.md
          - Spark:           docs/software/using/spark.md
          - MariaDB:         docs/software/using/mariadb.md
          - PostgreSQL:      docs/software/using/postgresql.md
  - Advanced topics:
      - Connection:          docs/advanced-topics/connection.md
      - Job management:      docs/advanced-topics/job-management.md
